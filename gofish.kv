#:kivy 2.3.0

<MainMenu>:
    md_bg_color: self.theme_cls.surfaceColor
    MDFloatLayout:
        Image: #UI image
            source: "Icon.png"
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            size_hint: None, None
            size: "250dp", "250dp"
            fit_mode: "scale-down"
        MDLabel: #Title
            width: root.width
            height: root.height*0.3
            halign: "center"
            text: "Go Fish!"
            font_style: "cataway"
            role: "large"
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint: {'center_x': .5, 'center_y': .4}
            adaptive_size: True
            spacing: dp(20)
            MDButton:
                style: "tonal"
                pos_hint: {"center_x": 0.5}
                on_release: 
                    app.sm_stacky("Menu")
                    root.manager.current = "InGame"
                MDButtonText:
                    text: "New Game"
                    font_style: "cataway"
                    role: "small"
            MDButton:
                style: "tonal"
                pos_hint: {"center_x": 0.5}
                on_release: 
                    app.sm_stacky("Menu")
                    root.manager.current = "Stats"
                MDButtonText:
                    text: "Game Statistics"
                    font_style: "cataway"
                    role: "small"
            MDButton:
                style: "tonal"
                pos_hint: {"center_x": 0.5}
                on_release: 
                    app.sm_stacky("Menu")
                    root.manager.current = "Rules"
                MDButtonText:
                    text: "How to Play"
                    font_style: "cataway"
                    role: "small"
            MDButton:
                style: "tonal"
                pos_hint: {"center_x": 0.5}
                on_release: app.stop()
                MDButtonText:
                    text: "Exit Game"
                    font_style: "cataway"
                    role: "small"

        MDIconButton: #Settings Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("Menu")
                root.manager.current = "Settings"



<InGame>:
    md_bg_color: self.theme_cls.surfaceColor
    MDFloatLayout:
        id: test
        MDLabel:
            text: "Enter Players Names!"
            font_style: "cataway"
            role: "large"
            halign: "center"
            pos_hint: {"center_y":0.9, "center_x":0.5}
            adaptive_height: True
        MDTextField:
            id: Input
            pos_hint: {"center_y":0.7, "center_x":0.5}
            size_hint_x: 0.5
            mode: "filled"
            on_text_validate: app.all_players(self)
            MDTextFieldHintText:
                text: "Playing solo? Just enter your name!"
        MDBoxLayout:
            id: Players
            orientation: 'vertical'
            pos_hint: {"center_x": 0.5, "top": 0.3}
            size_hint: None, None
            width: root.width * 0.5
            spacing: "10dp"
        MDButton:
            pos_hint: {"top":0.1, "center_x":0.5}
            adaptive_height: True
            on_release: app.start()
            MDButtonText:
                text: "Start!"
                font_style: "cataway"
                role: "large"
        MDIconButton: #Back button
            pos_hint: {"left":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Settings Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("InGame")
                root.manager.current = "Settings"
<Rules>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDScrollView:
            do_scroll_x: False
            do_scroll_y: True
            MDBoxLayout:
                orientation: 'vertical'
                padding: "20dp"
                spacing: "20dp"
                height: self.minimum_height
                size_hint_y: None
                MDLabel:
                    text: "How to Play!"
                    font_style: "cataway"
                    role: "large"
                    halign: 'center'
                    valign: "top"
                    pos_hint: {"top":0.9, "center_x":0.5}
                    size_hint: None, None
                    height: self.texture_size[1]
                    text_size: self.width*10, None
                MDLabel:
                    text: "This is Go Fish Mobile! I"
                    halign: "center"
                    valign: "top"
                    markup: True
                    size_hint_x: 0.8
                    pos_hint: {"center_x": 0.5}
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    font_style: "cataway"
                    role: "medium"
                    theme_font_size: "Custom"
                    font_size: dp(20)
                    shorten: False
        MDIconButton: #Back button
            pos_hint: {"center_x":0.05, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Settings Button\
            pos_hint: {"center_x":0.95, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("Rules")
                root.manager.current = "Settings"

<Themes>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDScrollView: #Themes
            do_scroll_x: False
            do_scroll_y: True
            pos_hint: {"center_x":0.5, "top": 0.95}
            size_hint: 1, 1
            MDBoxLayout:
                orientation: "vertical"
                size_hint_y: None
                adaptive_height: True
                padding: [dp(self.width%64), dp(50), dp(50), dp(50)]
                spacing: dp(12)
                MDLabel:
                    text: "Card Themes!"
                    width: self.parent.width
                    height: self.parent.height*0.3
                    font_style: "cataway"
                    role: "large"
                    pos_hint: {"center_x":0.5, "center_y": 0.8}
                MDGridLayout:
                    pos_hint: {"center_x":0.5}
                    md_bg_color: app.theme_cls.surfaceColor
                    id: grid
                    cols: 1 if int((self.width / 64) -2) <= 0 else (int((self.width / 64) -1))
                    adaptive_height: True
                    size_hint_y: None
                    spacing: dp(12)
                    padding: [dp(self.width%64), dp(20), dp(20), dp(20)]
                    on_size:
                        self.cols = 1 if int((self.width / 64) -2) <= 0 else (int((self.width / 64) -1))
        MDIconButton: #Back button
            pos_hint: {"center_x":0.05, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Change Theme Button
            name: "light"
            style: "tonal"
            icon: "white-balance-sunny"
            pos_hint: {"center_x":0.95, "center_y": 0.95}
            on_release: 
                app.switch_icon(self)
                app.theme_cls.switch_theme()

<Stats>:
    md_bg_color: self.theme_cls.surfaceColor
    MDFloatLayout:
        MDIconButton: #Back button
            pos_hint: {"left":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Settings Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("InGame")
                root.manager.current = "Settings"


<Settings>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDLabel:
            text: "Bot Difficulty"
            adaptive_height: True
            pos_hint: {"center_x":0.5, "top":0.7}
            font_style: "cataway"
            role: "large"

        MDBoxLayout:#
            md_bg_color: app.theme_cls.primaryColor
            orientation: "horizontal"
            adaptive_height: True
            spacing: dp(5)
            pos_hint: {"center_x":0.5, "top":0.5}
            MDIconButton:
                style: "tonal"
                icon: "chevron-double-left"
                pos_hint: {"center_x":0.2}
            Carousel:
                id: loop
                direction: "right"
                loop: "true"
                pos_hint: {"center_x":0.5, "center_y":0.5, "right":0.5}
                MDLabel:
                    text: "Beginner"
                MDLabel:
                    text: "Easy"
                MDLabel:
                    text: "Medium"
                MDLabel:
                    text: "Hard"
                MDLabel:
                    text: "Expert"
            MDIconButton:
                style: "tonal"
                icon: "chevron-double-right"
                pos_hint: {"center_x":0.8}
        MDIconButton: #Change Light/Dark Button
            name: "light"
            style: "tonal"
            icon: "white-balance-sunny"
            pos_hint: {"center_x":0.3, "top": 0.2}
            on_release: 
                app.switch_icon(self)
                app.theme_cls.switch_theme()
        MDIconButton: #Change Theme Button
            style: "tonal"
            icon: "palette"
            pos_hint: {"center_x":0.4, "top": 0.2}
            on_release: 
                app.sm_stacky("Settings")
                root.manager.current = "Themes"
        MDIconButton: #Go to how to play
            style: "tonal"
            icon: "help"
            pos_hint: {"center_x":0.6, "top": 0.2}
            on_release: 
                app.sm_stacky("Settings")
                root.manager.current = "Rules"
        MDIconButton: #Go to Game stats
            name: "light"
            style: "tonal"
            icon: "chart-donut"
            pos_hint: {"center_x":0.7, "top": 0.2}
            on_release: 
                app.sm_stacky("Settings")
                root.manager.current = "Themes"
        MDButton:
            style: "tonal"
            pos_hint: {"center_x": 0.5, "top":0.1}
            on_release: app.stop()
            MDButtonText:
                text: "Exit Game"
                font_style: "cataway"
                role: "small"
            MDButtonIcon:
                icon: "exit-to-app"

        MDIconButton: #Back Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "backburger"
            on_release: app.back()

