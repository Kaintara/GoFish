#:kivy 2.3.0

<MainMenu>:
    md_bg_color: self.theme_cls.surfaceColor
    MDFloatLayout:
        MDCard:
            size_hint: None, None
            size: "64dp", "89dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            theme_bg_color: "Custom"
            md_bg_color: app.theme_cls.primaryContainerColor
            MDRelativeLayout:
                size: "64dp", "89dp"
                MDLabel:
                    text: "J"
                    font_style: "cataway"
                    role: "small"
                    halign: 'left'
                    pos_hint: {"top":0.9, "center_x":0.2}
                    theme_font_size: "Custom"
                    font_size: dp(30)
                    adaptive_size: True
                MDLabel:
                    pos_hint: {"top":0.4, "center_x":0.8}
                    text: "J"
                    font_style: "cataway"
                    role: "small"
                    halign: "right"
                    theme_font_size: "Custom"
                    font_size: dp(30)
                    adaptive_size: True
                    canvas.before:
                        PushMatrix
                        Rotate:
                            angle: 180
                            origin: self.center
                    canvas.after:
                        PopMatrix
                MDIconButton:
                    theme_icon_color: "Custom"
                    icon_color: app.theme_cls.primaryColor
                    icon: "cards-spade"
                    size_hint: None, None
                    size: "50dp", "50dp"
                    theme_font_size: "Custom"
                    font_size: "50sp"
                    pos_hint: {"center_x":0.5, "center_y":0.5}

        Image: #UI image
            source: "Icon.png"
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            size_hint: None, None
            size: "250dp", "250dp"
            fit_mode: "scale-down"
        MDLabel: #Title
            width: root.width
            height: root.height*0.3
            text: "Go Fish!"
            font_style: "cataway"
            role: "large"
            pos_int: {"center_x": 0.5, "center_y": 0.8}
        MDBoxLayout:
            orientation: 'vertical'
            pos_int: {"center_x": 0.5, "center_y": 0.3}
            MDButton:
                style: "tonal"
                on_release: 
                    app.sm_stacky("Menu")
                    root.manager.current = "InGame"
            MDButton:
                style: "tonal"
                on_release: 
                    app.sm_stacky("Menu")
                    root.manager.current = "Rules"
        MDIconButton: #Settings Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("Menu")
                root.manager.current = "Settings"


<InGame>:
    md_bg_color: self.theme_cls.surfaceColor
    MDFloatLayout:
        MDTextField:
            id: Input
            pos_hint: {"center_y":0.5, "center_x":0.5}
            mode: "filled"
        MDIconButton: #Back button
            pos_hint: {"left":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Settings Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("InGame")
                root.manager.current = "Settings"
<Rules>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDScrollView:
            do_scroll_x: False
            do_scroll_y: True
            MDBoxLayout:
                orientation: 'vertical'
                padding: "20dp"
                spacing: "20dp"
                height: self.minimum_height
                size_hint_y: None
                MDLabel:
                    text: "How to Play!"
                    font_style: "cataway"
                    role: "large"
                    halign: 'center'
                    valign: "top"
                    pos_hint: {"top":0.9, "center_x":0.5}
                    size_hint: None, None
                    height: self.texture_size[1]
                    text_size: self.width*10, None
                MDLabel:
                    text: "This is Go Fish Mobile! I"
                    halign: "center"
                    valign: "top"
                    markup: True
                    size_hint_x: 0.8
                    pos_hint: {"center_x": 0.5}
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    font_style: "cataway"
                    role: "medium"
                    theme_font_size: "Custom"
                    font_size: dp(20)
                    shorten: False
        MDIconButton: #Back button
            pos_hint: {"center_x":0.05, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Settings Button\
            pos_hint: {"center_x":0.95, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "menu"
            on_release: 
                app.sm_stacky("Rules")
                root.manager.current = "Settings"

<Themes>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDScrollView: #Themes
            do_scroll_x: False
            do_scroll_y: True
            pos_hint: {"center_x":0.5, "top": 0.95}
            size_hint: 1, 1
            MDBoxLayout:
                orientation: "vertical"
                size_hint_y: None
                adaptive_height: True
                padding: [dp(self.width%64), dp(50), dp(50), dp(50)]
                spacing: dp(12)
                MDLabel:
                    text: "Card Themes!"
                    width: self.parent.width
                    height: self.parent.height*0.3
                    font_style: "cataway"
                    role: "large"
                    pos_hint: {"center_x":0.5, "center_y": 0.8}
                MDGridLayout:
                    pos_hint: {"center_x":0.5}
                    md_bg_color: app.theme_cls.surfaceColor
                    id: grid
                    cols: 1 if int((self.width / 64) -2) <= 0 else (int((self.width / 64) -1))
                    adaptive_height: True
                    size_hint_y: None
                    spacing: dp(12)
                    padding: [dp(self.width%64), dp(20), dp(20), dp(20)]
                    on_size:
                        self.cols = 1 if int((self.width / 64) -2) <= 0 else (int((self.width / 64) -1))
        MDIconButton: #Back button
            pos_hint: {"center_x":0.05, "center_y": 0.95}
            size: dp(48), dp(48)
            icon: "arrow-left"
            on_release: 
                app.back()
        MDIconButton: #Change Theme Button
            name: "light"
            style: "tonal"
            icon: "white-balance-sunny"
            pos_hint: {"center_x":0.95, "center_y": 0.95}
            on_release: 
                app.switch_icon(self)
                app.theme_cls.switch_theme()


<Settings>:
    md_bg_color: self.theme_cls.backgroundColor
    MDFloatLayout:
        MDIconButton: #Change Theme Button
            name: "light"
            style: "tonal"
            icon: "white-balance-sunny"
            pos_hint: {"center_x":0.1, "top": 0.1}
            on_release: 
                app.switch_icon(self)
                app.theme_cls.switch_theme()
        MDIconButton: #Change Theme Button
            name: "light"
            style: "tonal"
            icon: "palette"
            pos_hint: {"center_x":0.2, "top": 0.1}
            on_release: 
                app.sm_stacky("Settings")
                root.manager.current = "Themes"
        MDIconButton: #Back Button
            pos_hint: {"right":0.98, "top": 0.98}
            size: dp(48), dp(48)
            icon: "backburger"
            on_release: app.back()

